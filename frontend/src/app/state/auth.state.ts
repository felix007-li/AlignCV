import { State, Selector, Action, StateContext } from '@ngxs/store'; export interface AuthModel{ userId?:string; email?:string; token?:string; } export class SignIn{ static readonly type='[Auth] SignIn'; constructor(public email:string){} } export class SignOut{ static readonly type='[Auth] SignOut'; } @State<AuthModel>({name:'auth',defaults:{}}) export class AuthState{ @Selector() static isAuthed(s:AuthModel){return !!s.token;} @Action(SignIn) signIn(ctx:StateContext<AuthModel>,{email}:SignIn){ctx.patchState({userId:'u1',email,token:'dev-token'});} @Action(SignOut) signOut(ctx:StateContext<AuthModel>){ctx.setState({});}}